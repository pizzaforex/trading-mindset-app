<!-- index.html (Aggiunte/Modifiche) -->

<!-- ... (Contenuto precedente delle sezioni, MA aggiorna i link delle sfide come segue) ... -->

<!-- Esempio Aggiornamento Link Sfida (Sezione Introduzione) -->
<div class="challenge">
    <div class="token-reward"><i class="fas fa-coins"></i> 10 TRAD</div>
    <h4><i class="fas fa-user-check"></i> Sfida Iniziale: Auto-Valutazione</h4>
    <p>Rifletti onestamente...
        <a href="#" class="resource-link challenge-link"
           data-challenge-id="self-assessment"
           data-reward="10"
           data-modal-target="quizModal"> <!-- <--- MODIFICA QUI -->
           Inizia Valutazione (Quiz)
        </a>
    </p>
</div>

<!-- Esempio Aggiornamento Link Sfida (Sezione Principi) -->
<div class="challenge">
    <div class="token-reward"><i class="fas fa-coins"></i> 15 TRAD</div>
    <h4><i class="fas fa-book"></i> Sfida: Assimilazione Verità</h4>
    <p>Scegli una delle 5 Verità e scrivi...
        <a href="#" class="resource-link challenge-link"
           data-challenge-id="truth-assimilation"
           data-reward="15"
           data-modal-target="reflectionModal"> <!-- <--- MODIFICA QUI -->
           Invia Riflessione
        </a>
    </p>
</div>

<!-- Esempio Aggiornamento Link Sfida (Sezione Framework) -->
<div class="challenge">
    <div class="token-reward"><i class="fas fa-coins"></i> 50 TRAD</div>
    <h4><i class="fas fa-play-circle"></i> Sfida Chiave: Serie di 20 Trade</h4>
    <p>Applica l'esercizio "Operare come un Casinò"...
        <a href="#" class="resource-link challenge-link"
           data-challenge-id="20-trade-series"
           data-reward="50"
           data-modal-target="simulationModal"> <!-- <--- MODIFICA QUI -->
           Inizia la Serie Simulata
        </a>
    </p>
</div>

<!-- Esempio Aggiornamento Link Sfida (Sezione Risorse) -->
<div class="challenge">
    <div class="token-reward"><i class="fas fa-coins"></i> 30 TRAD</div>
    <h4><i class="fas fa-journal-whills"></i> Sfida: Diario Psicologico</h4>
    <p>Tieni un diario per una settimana...
        <a href="#" class="resource-link challenge-link"
           data-challenge-id="psych-journal"
           data-reward="30"
           data-modal-target="reflectionModal"> <!-- <--- MODIFICA QUI -->
           Conferma Completamento Diario
        </a>
        <!-- Potremmo anche linkare un template -->
        (<a href="#" class="resource-link" download>Scarica Template</a>)
    </p>
</div>


<!-- ... (Resto del contenuto HTML) ... -->


<!-- ========== NUOVI MODAL PER LE SFIDE ========== -->

<!-- Modal per Quiz -->
<div id="quizModal" class="modal">
    <div class="modal-content">
        <span class="close-modal" data-modal-id="quizModal">&times;</span>
        <h2 class="modal-title" id="quiz-title">Quiz Sfida</h2>
        <form id="quiz-form">
            <div id="quiz-questions">
                <!-- Le domande verranno caricate qui da JS -->
                <p>Caricamento domande...</p>
            </div>
            <p id="quiz-error" class="form-error" style="display: none; color: var(--danger-color);"></p>
            <button type="submit" class="form-button primary-button">Invia Risposte</button>
        </form>
    </div>
</div>

<!-- Modal per Riflessione/Testo -->
<div id="reflectionModal" class="modal">
    <div class="modal-content">
        <span class="close-modal" data-modal-id="reflectionModal">&times;</span>
        <h2 class="modal-title" id="reflection-title">Riflessione Sfida</h2>
        <form id="reflection-form">
            <div class="form-group">
                <label for="reflection-text" id="reflection-label">Inserisci la tua riflessione:</label>
                <textarea id="reflection-text" rows="6" required style="width: 100%; padding: 10px; border: 1px solid var(--border-color); border-radius: 4px; font-size: 1rem;"></textarea>
            </div>
             <p id="reflection-error" class="form-error" style="display: none; color: var(--danger-color);"></p>
            <button type="submit" class="form-button primary-button">Invia Riflessione</button>
        </form>
    </div>
</div>

<!-- Modal per Simulazioni (Conferma semplice) -->
<div id="simulationModal" class="modal">
    <div class="modal-content">
        <span class="close-modal" data-modal-id="simulationModal">&times;</span>
        <h2 class="modal-title" id="simulation-title">Avvio Sfida Simulata</h2>
        <p id="simulation-description" style="margin-bottom: 1.5rem;">Questa sfida richiede un impegno esterno alla piattaforma (es. trading simulato, monitoraggio). Conferma di aver compreso e di voler avviare/completare la sfida per ricevere i token.</p>
        <form id="simulation-form">
            <!-- Aggiungeremo qui i dettagli specifici della sfida da JS -->
            <button type="submit" class="form-button success-button">Confermo Avvio/Completamento</button>
        </form>
    </div>
</div>

<!-- ========== FINE NUOVI MODAL ========== -->


<!-- ... (Footer e tag <script> per main.js) ... -->